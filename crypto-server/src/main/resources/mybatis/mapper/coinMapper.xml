<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.my.cryptoserver.upbitApi.mapper.CoinMapper">
    <select id="getCoinList" resultType="com.my.cryptoserver.upbitApi.vo.UpbitApiVO">
        SELECT coin_id
            ,  coin_name_ko
            ,  coin_name_eng
            ,  monitoring_yn
          FROM awsdb.coin_list
         WHERE 0=0
        <if test="monitoring_yn != null">
           AND monitoring_yn = #{monitoring_yn}
        </if>
    </select>

    <insert id="insertCoinPrice" parameterType="com.my.cryptoserver.upbitApi.vo.UpbitApiVO">
        INSERT INTO awsdb.coin_price
        (
            coin_id
          , input_date
          , input_time
          , opening_price
          , high_price
          , low_price
          , prev_closing_price
          , trade_volume
          , acc_trade_price
          , acc_trade_price_24h
          , acc_trade_volume
          , acc_trade_volume_24h
        )
        values
        (
            #{coinId}
          , #{inputDate}
          , #{inputTime}
          , #{openingPrice}
          , #{highPrice}
          , #{lowPrice}
          , #{prevClosingPrice}
          , #{tradeVolume}
          , #{accTradePrice}
          , #{accTradePrice24h}
          , #{accTradeVolume}
          , #{accTradeVolume24h}
        )
    </insert>
</mapper>